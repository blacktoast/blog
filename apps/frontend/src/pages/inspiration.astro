---
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
import Layout from '@/layouts/Layout.astro';
import InspirationGrid from '@/components/inspiration/InspirationGrid';
import LightRays from '@/components/inspiration/LightRays';
import LightModeController from '@/components/inspiration/LightModeController';
---

<Layout title="영감" description="영감을 받은 사이트들">
	<Header isInspirationPage={true} />

	<!-- LightRays 배경: 전체 화면 고정 -->
	<div class="light-rays-background">
		<LightRays
			client:visible
			raysOrigin="top-center"
			raysSpeed={0.5}
			lightSpread={0.2}
			rayLength={1}
			pulsating={true}
			fadeDistance={1.2}
			saturation={0.8}
			followMouse={true}
			mouseInfluence={0.15}
			useThemeColor={true}
		/>
	</div>

	<h2>영감</h2>
	<main class="relative z-10 mt-8">
		<InspirationGrid client:visible />
	</main>

	<!-- 조명 모드 컨트롤러 (오버레이 + 떠있는 전구) -->
	<LightModeController client:load />

	<Footer />
</Layout>

<style>
	.light-rays-background {
		position: fixed;
		inset: 0;
		z-index: 6; /* CircularReveal(5) 위, 카드(10) 아래 */
		pointer-events: none;
		overflow: hidden;
		/* 기본 숨김 - 조명 모드 진입 애니메이션 완료 후 표시 */
		opacity: 0;
		transition: opacity 0.3s ease-out;
	}

	/* 조명 모드 진입 완료 후 LightRays 표시 */
	:global(body.light-rays-visible) .light-rays-background {
		opacity: 1;
	}
</style>
