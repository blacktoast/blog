---
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
import Layout from '@/layouts/Layout.astro';
import { Icon } from 'astro-icon/components';
import BlogTitleAnimation from '@/components/BlogTitleAnimation.tsx';
const isPersonal = import.meta.env.PUBLIC_TYPE === 'personal';

---
<Layout isMain={true}>
	<Header />
		<main class="mt-4"> 

			<h1 class="text-4xl max-sm:px-4 font-bold font-HomeHello mb-12">hyggelig!</h1>
			<div class="flex items-center blog-name-container px-4 sm:px-0">
				This is <BlogTitleAnimation client:load class="special-font" />
			</div>
			<section class="intro-section mt-6 mb-16 mx-0 sm:px-0 relative">
				<div class="intro-content max-w-3xl relative z-10">
					<p class="intro-greeting text-xl font-medium mb-4 text-foreground">
						Hi, I'm Retto!
					</p>
					
					<div class="absolute md:-top-38 sm:-top-30 -top-35 right-4 sm:right-30 hidden spring:block animate-in fade-in slide-in-from-bottom-4 duration-700 z-0 pointer-events-none sm:pointer-events-auto">
						<div class="relative group rotate-5">
							<img src="/haedal_spring.png" alt="Spring Haedal" class="relative z-10 w-24 h-auto lg:w-40 md:w-35 sm:w-30 object-contain mix-blend-multiply" />
						</div>
					</div>

					<p class="intro-description text-base leading-relaxed mb-6 text-foreground/90">
						I'm a frontend engineer working in the web3 industry. 
						<br/>
						<br/>
						This blog is a space where I share my personal stories, things I've learned, and knowledge I want to pass on to others.
					</p>
				<details class="section-guide mt-6" open>
					<summary class="cursor-pointer text-sm text-foreground/70 hover:text-foreground transition-colors list-none">
						<span class="inline-flex items-center gap-2">
							<span>Section guide</span>
							<Icon name="lucide:chevron-down" class="chevron-icon w-4 h-4 transition-transform" />
						</span>
						<p class="intro-note text-sm text-foreground/70">
							For those who prefer to skip personal content, here's a guide to each section
						</p>
					</summary>
					<div class="sections-grid grid grid-cols-1 md:grid-cols-3 gap-3 mt-4">
						<a href="/blog" class="section-card group p-3 rounded-lg border border-border bg-background/50 hover:bg-background/80 transition-all duration-200 hover:border-accent/50">
							<div class="flex items-center gap-3">
								<div class="icon-wrapper shrink-0 w-8 h-8 rounded-md bg-accent/10 group-hover:bg-accent/20 flex items-center justify-center transition-colors">
									<Icon name="lucide:book-open" class="w-4 h-4" />
								</div>
								<div class="flex-1 min-w-0">
									<h3 class="font-semibold text-sm text-foreground group-hover:text-accent transition-colors">Blog</h3>
									<p class="text-xs text-foreground/60 leading-snug mt-0.5">
										Well-organized articles
									</p>
								</div>
							</div>
						</a>

						<a href="/pebbles" class="section-card group p-3 rounded-lg border border-border bg-background/50 hover:bg-background/80 transition-all duration-200 hover:border-accent/50">
							<div class="flex items-center gap-3">
								<div class="icon-wrapper shrink-0 w-8 h-8 rounded-md bg-accent/10 group-hover:bg-accent/20 flex items-center justify-center transition-colors">
									<span class="text-lg">ü™®</span>
								</div>
								<div class="flex-1 min-w-0">
									<h3 class="font-semibold text-sm text-foreground group-hover:text-accent transition-colors">Pebbles</h3>
									<p class="text-xs text-foreground/60 leading-snug mt-0.5">
										TIL and learning drafts
									</p>
								</div>
							</div>
						</a>
						{isPersonal ? (
							<a href="/log" class="section-card group p-3 rounded-lg border border-border bg-background/50 hover:bg-background/80 transition-all duration-200 hover:border-accent/50">
								<div class="flex items-center gap-3">
									<div class="icon-wrapper shrink-0 w-8 h-8 rounded-md bg-accent/10 group-hover:bg-accent/20 flex items-center justify-center transition-colors">
										<Icon name="lucide:scroll-text" class="w-4 h-4" />
									</div>
									<div class="flex-1 min-w-0">
										<h3 class="font-semibold text-sm text-foreground group-hover:text-accent transition-colors">Log</h3>
										<p class="text-xs text-foreground/60 leading-snug mt-0.5">
											Personal thoughts
										</p>
									</div>
								</div>
							</a>
						) : null}

				</details>

				{!isPersonal ? (
					<p class="text-sm text-foreground/40 leading-relaxed mt-4">
						Want to get closer to me or become better friends?
						<br/>
						Here's where you'll find my personal story. <a href="https://personal.haedal.blog/" class="text-accent">Click here</a>
						<br/>
						<span class="text-red-400/90 text-sm">
							Disclaimer: This contains my personal story, so please don't click carelessly. 
						</span>
					</p>
					) : null}
			</div>
			</div>
			</section>
		</main>
		<Footer />
</Layout>

<style>	
	.blog-name-container{
	}

	.intro-section {
		max-width: 72ch;
	}

	.section-guide summary {
		list-style: none;
	}

	.section-guide summary::-webkit-details-marker {
		display: none;
	}

	.section-guide[open] summary .chevron-icon {
		transform: rotate(180deg);
	}

	.section-card {
		text-decoration: none;
	}

	.section-card:focus-visible {
		outline: 2px dashed var(--color-accent);
		outline-offset: 2px;
	}

	@media (max-width: 768px) {
		.sections-grid {
			grid-template-columns: 1fr;
		}
	}
	.font-HomeHello {
		font-family: 'HomeHello', sans-serif;
	}

	/* BlogTitleAnimation Ïä§ÌÉÄÏùºÏùÄ Ïª¥Ìè¨ÎÑåÌä∏ ÎÇ¥Î∂ÄÎ°ú Ïù¥ÎèôÎê® */
</style>
