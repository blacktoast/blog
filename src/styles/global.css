@import "tailwindcss";
@import "./typography.css";

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

@font-face {
  font-family: "JPLogo";
  src: url("/fonts/jp-logo.woff2") format("woff2");
  font-weight: 900;
  font-style: normal;
}

@font-face {
  font-family: "HomeHello";
  src: url("/fonts/home-hello-en.woff2") format("woff2");
  font-weight: 500;
  font-style: normal;
}

@font-face {
  font-family: "suit-font";
  src: url("/fonts/SUIT-Variable.woff2") format("woff2");
  font-display: swap;
}

:root,
html[data-theme="light"] {
  /* Summer Sea Theme */
  --background: #e0f7fa;
  --foreground: #1d3557;
  --accent: #0288d1;
  --muted: #457b9d;
  --border: rgba(29, 53, 87, 0.15);

  --bg-image:
    radial-gradient(
      circle at 50% 0%,
      rgba(255, 255, 255, 0.6),
      transparent 60%
    ),
    radial-gradient(
      circle at 90% 10%,
      rgba(255, 168, 61, 0.15),
      transparent 40%
    ),
    linear-gradient(180deg, #e0f7fa 0%, #ddf5f0 80%, #e0f7fa 100%);
}

html[data-theme="dark"] {
  /* Haedal Theme */
  --background: #0b1421;
  --foreground: #f6f7fb;
  --accent: #f9a826;
  --muted: rgba(236, 242, 255, 0.75);
  --border: rgba(255, 255, 255, 0.06);

  --bg-image:
    radial-gradient(circle at top, rgba(61, 102, 173, 0.25), transparent 60%),
    radial-gradient(
      circle at 80% 20%,
      rgba(194, 61, 255, 0.15),
      transparent 55%
    ),
    linear-gradient(165deg, #16233a 0%, #0b1421 60%);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-accent: var(--accent);
  --color-muted: var(--muted);
  --color-border: var(--border);
}

@layer base {
  * {
    @apply border-border outline-accent/75;
    scrollbar-width: auto;
    scrollbar-color: var(--color-muted) transparent;
  }
  html {
    @apply overflow-y-scroll scroll-smooth;
  }
  body {
    @apply flex min-h-svh flex-col bg-background font-mono text-foreground selection:bg-accent/75 selection:text-background;
    background-image: var(--bg-image);
    background-attachment: fixed;
    background-size: cover;
  }
  a,
  button {
    @apply outline-offset-1 outline-accent focus-visible:no-underline focus-visible:outline-2 focus-visible:outline-dashed;
  }
  button:not(:disabled),
  [role="button"]:not(:disabled) {
    cursor: pointer;
  }

  main {
    @apply mx-auto w-full max-w-app px-4;
  }

  section,
  footer {
    @apply mx-auto max-w-app px-4;
  }
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
  .scroll-progress-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 0.25rem;
    z-index: 50;
    background: var(--color-background);
  }
  .scroll-progress-bar {
    width: 0;
    height: 100%;
    background: var(--color-accent);
    transition: width 0.1s linear;
  }
}

@utility max-w-app {
  @apply max-w-3xl;
}

.active-nav {
  @apply underline decoration-wavy decoration-2 underline-offset-4;
}

/* Source: https://piccalil.li/blog/a-more-modern-css-reset/ */
/* Anything that has been anchored to should have extra scroll margin */
:target {
  scroll-margin-block: 1rem;
}
